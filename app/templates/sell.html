{% extends "base.html" %}
{% block title %}Sys Course: Upload Resources{% endblock %}
{% block head_extension %}
  <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.css" rel="stylesheet">
{% endblock %}
{% block content %}
  <section class="hero is-medium">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">Upload Your Course Resources</h1>
        <h2 class="subtitle">
          You can upload images or PDF documents. Fill in the details and submit.
        </h2>
      </div>
    </div>
  </section>
  <form id="resource-upload-form" action="/upload_resource" method="POST" enctype="multipart/form-data">
    {{ form.csrf_token }}
    <div class="field">
      <label class="label">Title</label>
      <div class="control">
        <input class="input" type="text" name="title" placeholder="Resource title">
      </div>
    </div>
    <div class="field">
      <label class="label">Description</label>
      <div class="control">
        <textarea class="textarea" name="description" placeholder="Resource description"></textarea>
      </div>
    </div>
    <!-- FilePond input for file upload -->
    <input type="file" class="filepond" name="resourceFile" accept="image/png, image/jpeg, application/pdf">
    <!-- Additional fields like course_id or type can be added here -->
    <div class="control">
      <button class="button is-link" type="submit">Submit</button>
    </div>
  </form>
  <!-- Include your FilePond and other JS at the bottom of the page -->
  <script src="https://unpkg.com/filepond/dist/filepond.js"></script>
  <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
  <script src="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js"></script>
  <script>
    // Initialize FilePond
    FilePond.registerPlugin(
      FilePondPluginImagePreview,
      FilePondPluginFileValidateType
    );
    FilePond.create(document.querySelector('.filepond'), {
      acceptedFileTypes: ['image/png', 'image/jpeg', 'application/pdf']
    });
  </script>
{% endblock %}
